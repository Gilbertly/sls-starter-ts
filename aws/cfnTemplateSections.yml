Conditions:
  IsDevEnv:
    Fn::Equals:
      - ${self:provider.stage}
      - dev
  
  IsProdEnv:
    Fn::Equals:
      - ${self:provider.stage}
      - prod

  IsFeatureBranch: !And 
    - !Not [Condition: IsDevEnv]
    - !Not [Condition: IsProdEnv]

Outputs:
  GithubFeatureBranchRef:
    Condition: IsFeatureBranch
    Description: Github feature branch for this stack.
    Value: ${opt:branchRef, ''}
